There are a number of critical issues in this workflow.  1. At layer 0, something seems to be overriding the Ntropy enrichment categorisation and labels. Ntropy enriched categorisations and labels must be the standard for all transactions shown to users, so they must act as the strong foundation for the transaction display, labels, referenced and categorisations and nothing should override them as a blanket rule. The rule should be that other than deterministic ghost transactions, if Ntropy’s confidence score is over 0.8, the label and category that Ntropy assign to the transaction should what Resolve adopts. Deterministically provable ghost transactions should be identified after Ntropy transactions are used as the foundation, and any transactions that Ntropy gives a confidence score of less than 0.8, they must be processed through the context hunter and Sherlock layers.

2. Most merchant logos and enriched references are not showing on the transactions. Where possible, all merchant logos from Ntropy and the enriched references must be be displayed in Resolve

3. Connecting multiple accounts causes errors, and the transactions do not display for each account. Each bank account must display as its own tile on the screen and the user must be able to click the tile for each bank account to see the transactions extracted and categorised from each account.

3.1. There must be a central transactions tile that compiles all transactions from each bank account and shows all of them, broken down by each category. The overall averages per month for each transaction category must be shown in this totals tile.

4. The monthly averages are displaying as the totals for all transactions in an enrichment and categorisation process. The monthly averages must actually be the monthly averages. To calculate the averages, only transactions within the first 3 full months of the transaction history extracted should be used in the calculations. The transactions list will include all transactions from the first 3 full months as well as all transactions from the current month up until the time the enrichment takes place. The transactions from the current month must not be included in the calculated monthly averages for every category and total.

5. Only 50 transactions are shown to the user in each category. All transactions must be shown to the user for each category, separated into pages that show 50 transactions each.

6. At layer 0, something seems to be overriding the Ntropy enrichment categorisation and labels. Ntropy enriched categorisations and labels must be the standard for all transactions shown to users, so they must act as the strong foundation for the transaction display, labels, referenced and categorisations and nothing should override them as a blanket rule. The rule should be that other than deterministic ghost transactions, if Ntropy’s confidence score is over 0.8, the label and category that Ntropy assign to the transaction should what Resolve adopts. Deterministically provable ghost transactions should be identified after Ntropy transactions are used as the foundation, and any transactions that Ntropy gives a confidence score of less than 0.8, they must be processed through the context hunter and Sherlock layers.

7. Most merchant logos and enriched references are not showing on the transactions. Where possible, all merchant logos from Ntropy and the enriched references must be be displayed in Resolve

8. Claude is being overused - this is costly in API credits but is also redundant as much of the usage is for processing that Ntropy does cheaper and much more accurately and effectively. This ties in to error 6, so ensure that Ntropy acts as a foundation and claude is only called if confidence scores are lower than 0.8 and other tools are actually required.

First, examine all relevant files, secrets, SDKs, file handling and other protocols, as well as the logs from the last transaction enrichment and find out what is causing these errors to happen, and give me a detailed but concise list of all causes for each error. Next, create a comprehensive, intensive task list that will fix every single error that was being caused and tell me the plan to implement all changes I have detailed.

Important step - scrutinise every single proposed solution to each error and every planned step before confirming. Be highly critical of every step of planned solutions whist coming up with each solution and once again review all steps and fixes involved to see if any contradict with each other. Re-evaluate solutions and steps at the end and give me a finalised, scrutinised task list.
